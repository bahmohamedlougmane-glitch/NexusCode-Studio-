<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NexusCode - Inscription & Secours</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .glass { background: rgba(15, 23, 42, 0.85); backdrop-filter: blur(15px); }
        body { background-color: #020617; color: white; font-family: 'Segoe UI', system-ui, sans-serif; overflow: hidden; }
        .hidden-app { display: none; }
        .input-nexus { background: rgba(15, 23, 42, 0.6); border: 1px solid rgba(255,255,255,0.1); border-radius: 14px; padding: 14px 18px; font-size: 14px; outline: none; transition: all 0.3s; width: 100%; color: white; }
        .input-nexus:focus { border-color: #3b82f6; box-shadow: 0 0 15px rgba(59,130,246,0.15); }
    </style>
</head>
<body class="h-screen flex flex-col">

    <div id="auth-screen" class="fixed inset-0 z-[100] flex items-center justify-center bg-[#020617]">
        <div class="w-full max-w-md p-10 rounded-[2.5rem] border border-white/10 glass shadow-2xl">
            <div class="text-center mb-10">
                <img src="logo.png" alt="Nexus" class="h-16 w-16 mx-auto mb-4 rounded-2xl shadow-lg shadow-blue-500/20">
                <h1 class="text-3xl font-black tracking-tighter uppercase">NEXUS<span class="text-blue-500">CODE</span></h1>
                <p class="text-slate-400 text-[10px] mt-2 font-bold uppercase tracking-widest">Accès Développeur Gratuit</p>
            </div>
            
            <div class="space-y-4">
                <input type="text" id="reg-name" placeholder="Nom complet" class="input-nexus">
                <input type="email" id="reg-email" placeholder="Adresse E-mail" class="input-nexus">
                <input type="password" id="reg-pass" placeholder="Mot de passe" class="input-nexus">
                
                <button onclick="handleSignup()" class="w-full bg-blue-600 hover:bg-blue-500 py-4 rounded-2xl font-bold text-sm shadow-xl shadow-blue-900/40 transition-all transform hover:scale-[1.02]">
                    Créer mon compte
                </button>

                <div class="text-center pt-2">
                    <button onclick="resetAccount()" class="text-[10px] text-slate-500 hover:text-blue-400 underline underline-offset-4 transition-colors">
                        Mot de passe oublié ou réinscription ?
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div id="main-app" class="h-screen flex flex-col hidden-app">
        <nav class="h-16 glass flex items-center justify-between px-8 border-b border-white/5 z-50">
            <div class="flex items-center gap-4">
                <img src="logo.png" alt="Logo" class="h-8 w-8 rounded-lg">
                <span class="text-sm font-black tracking-tighter italic">NEXUS STUDIO</span>
            </div>
            <div class="flex items-center gap-4">
                <span id="user-email-display" class="text-[9px] text-blue-400 font-bold bg-blue-500/10 px-3 py-1 rounded-full border border-blue-500/20"></span>
                <button onclick="logout()" class="text-slate-500 hover:text-red-400 transition-colors">Déconnexion</button>
            </div>
        </nav>

        <main class="flex-1 flex overflow-hidden">
            <textarea id="editor" class="flex-1 bg-transparent p-12 text-lg outline-none resize-none font-mono text-slate-300 placeholder:text-slate-800" placeholder="Le code commence ici..."></textarea>
        </main>

        <div id="companion-bubble" class="fixed bottom-10 right-10 w-72 glass p-5 rounded-2xl border border-white/10 shadow-2xl translate-y-32 opacity-0 pointer-events-none transition-all duration-500">
            <p id="ia-message" class="text-xs text-slate-200 italic"></p>
        </div>
    </div>

    <script>
        // FONCTION INSCRIPTION
        function handleSignup() {
            const name = document.getElementById('reg-name').value;
            const email = document.getElementById('reg-email').value;
            const pass = document.getElementById('reg-pass').value;

            if (name && email.includes('@') && pass.length > 5) {
                localStorage.setItem('nexus_user_data', JSON.stringify({name, email, pass}));
                enterApp(name, email);
            } else {
                alert("Veuillez remplir les champs (E-mail valide + mot de passe 6 car. min)");
            }
        }

        // FONCTION RÉINITIALISATION (POUR OUBLI)
        function resetAccount() {
            if(confirm("Voulez-vous supprimer le compte actuel et en créer un nouveau ?")) {
                localStorage.removeItem('nexus_user_data');
                location.reload();
            }
        }

        function enterApp(name, email) {
            document.getElementById('auth-screen').style.display = 'none';
            document.getElementById('main-app').classList.remove('hidden-app');
            document.getElementById('user-email-display').innerText = email.toUpperCase();
            showIA(`Compte actif. Bienvenue dans votre studio, <b>${name}</b>.`);
        }

        function showIA(text) {
            const bubble = document.getElementById('companion-bubble');
            document.getElementById('ia-message').innerHTML = text;
            bubble.classList.remove('translate-y-32', 'opacity-0');
            setTimeout(() => { bubble.classList.add('translate-y-32', 'opacity-0'); }, 5000);
        }

        function logout() {
            location.reload(); 
        }

        window.onload = () => {
            const savedData = localStorage.getItem('nexus_user_data');
            if (savedData) {
                const user = JSON.parse(savedData);
                enterApp(user.name, user.email);
            }
        };
    </script>
</body>
</html>
